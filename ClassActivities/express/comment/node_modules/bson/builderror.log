In file included from ../ext/bson.h:17:0,
                 from ../ext/bson.cc:35:
../../nan/nan.h:328:47: error: ‘REPLACE_INVALID_UTF8’ is not a member of ‘v8::String’
   static const unsigned kReplaceInvalidUtf8 = v8::String::REPLACE_INVALID_UTF8;
                                               ^
../ext/bson.cc: In member function ‘void BSONSerializer<T>::SerializeValue(void*, const v8::Handle<v8::Value>&)’:
../ext/bson.cc:203:60: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                                            ^
../ext/bson.cc:203:60: note: (if you use ‘-fpermissive’, G++ will accept your code, but allowing the use of an undeclared name is deprecated)
../ext/bson.cc:206:44: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
    if(NanPersistentToLocal(bson->longString)->StrictEquals(constructorString))
                                            ^
../ext/bson.cc:209:71: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longLowString));
                                                                       ^
../ext/bson.cc:210:72: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longHighString));
                                                                        ^
../ext/bson.cc:212:54: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
    else if(NanPersistentToLocal(bson->timestampString)->StrictEquals(constructorString))
                                                      ^
../ext/bson.cc:215:71: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longLowString));
                                                                       ^
../ext/bson.cc:216:72: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longHighString));
                                                                        ^
../ext/bson.cc:218:53: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
    else if(NanPersistentToLocal(bson->objectIDString)->StrictEquals(constructorString))
                                                     ^
../ext/bson.cc:221:77: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     this->WriteObjectId(object, NanPersistentToLocal(bson->_objectIDidString));
                                                                             ^
../ext/bson.cc:223:51: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
    else if(NanPersistentToLocal(bson->binaryString)->StrictEquals(constructorString))
                                                   ^
../ext/bson.cc:227:83: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     uint32_t length = object->Get(NanPersistentToLocal(bson->_binaryPositionString))->Uint32Value();
                                                                                   ^
../ext/bson.cc:228:89: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     Local<Object> bufferObj = object->Get(NanPersistentToLocal(bson->_binaryBufferString))->ToObject();
                                                                                         ^
../ext/bson.cc:231:76: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     this->WriteByte(object, NanPersistentToLocal(bson->_binarySubTypeString)); // write subtype
                                                                            ^
../ext/bson.cc:233:67: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     if(object->Get(NanPersistentToLocal(bson->_binarySubTypeString))->Int32Value() == 0x02) {
                                                                   ^
../ext/bson.cc:239:51: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
    else if(NanPersistentToLocal(bson->doubleString)->StrictEquals(constructorString))
                                                   ^
../ext/bson.cc:242:76: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     this->WriteDouble(object, NanPersistentToLocal(bson->_doubleValueString));
                                                                            ^
../ext/bson.cc:244:51: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
    else if(NanPersistentToLocal(bson->symbolString)->StrictEquals(constructorString))
                                                   ^
../ext/bson.cc:247:94: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     this->WriteLengthPrefixedString(object->Get(NanPersistentToLocal(bson->_symbolValueString))->ToString());
                                                                                              ^
../ext/bson.cc:249:49: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
    else if(NanPersistentToLocal(bson->codeString)->StrictEquals(constructorString))
                                                 ^
../ext/bson.cc:251:91: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     const Local<String>& function = object->Get(NanPersistentToLocal(bson->_codeCodeString))->ToString();
                                                                                           ^
../ext/bson.cc:252:89: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     const Local<Object>& scope = object->Get(NanPersistentToLocal(bson->_codeScopeString))->ToObject();
                                                                                         ^
../ext/bson.cc:275:50: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
    else if(NanPersistentToLocal(bson->dbrefString)->StrictEquals(constructorString))
                                                  ^
../ext/bson.cc:283:89: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     SerializeValue(refType, object->Get(NanPersistentToLocal(bson->_dbRefNamespaceString)));
                                                                                         ^
../ext/bson.cc:287:82: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     SerializeValue(idType, object->Get(NanPersistentToLocal(bson->_dbRefOidString)));
                                                                                  ^
../ext/bson.cc:289:91: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
     const Local<Value>& refDbValue = object->Get(NanPersistentToLocal(bson->_dbRefDbString));
                                                                                           ^
../ext/bson.cc:300:51: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
    else if(NanPersistentToLocal(bson->minKeyString)->StrictEquals(constructorString))
                                                   ^
../ext/bson.cc:304:51: error: there are no arguments to ‘NanPersistentToLocal’ that depend on a template parameter, so a declaration of ‘NanPersistentToLocal’ must be available [-fpermissive]
    else if(NanPersistentToLocal(bson->maxKeyString)->StrictEquals(constructorString))
                                                   ^
../ext/bson.cc: In member function ‘v8::Handle<v8::Value> BSONDeserializer::DeserializeDocumentInternal(bool)’:
../ext/bson.cc:438:67: error: ‘NanPersistentToLocal’ was not declared in this scope
  if(returnObject->Has(NanPersistentToLocal(bson->_dbRefIdRefString)))
                                                                   ^
../ext/bson.cc: In member function ‘v8::Handle<v8::Value> BSONDeserializer::DeserializeValue(BsonType, bool)’:
../ext/bson.cc:498:58: error: ‘NanPersistentToLocal’ was not declared in this scope
    return NanPersistentToLocal(bson->timestampConstructor)->NewInstance(2, argv);
                                                          ^
../ext/bson.cc:517:53: error: ‘NanPersistentToLocal’ was not declared in this scope
    return NanPersistentToLocal(bson->codeConstructor)->NewInstance(2, argv);
                                                     ^
../ext/bson.cc:526:53: error: ‘NanPersistentToLocal’ was not declared in this scope
    return NanPersistentToLocal(bson->codeConstructor)->NewInstance(2, argv);
                                                     ^
../ext/bson.cc:532:57: error: ‘NanPersistentToLocal’ was not declared in this scope
    return NanPersistentToLocal(bson->objectIDConstructor)->NewInstance(1, argv);
                                                         ^
../ext/bson.cc:543:55: error: ‘NanNewBufferHandle’ was not declared in this scope
    Local<Object> buffer = NanNewBufferHandle(p, length);
                                                       ^
../ext/bson.cc:547:55: error: ‘NanPersistentToLocal’ was not declared in this scope
    return NanPersistentToLocal(bson->binaryConstructor)->NewInstance(2, argv);
                                                       ^
../ext/bson.cc:570:53: error: ‘NanPersistentToLocal’ was not declared in this scope
    return NanPersistentToLocal(bson->longConstructor)->NewInstance(2, argv);
                                                     ^
../ext/bson.cc:586:55: error: ‘NanPersistentToLocal’ was not declared in this scope
    return NanPersistentToLocal(bson->symbolConstructor)->NewInstance(1, argv);
                                                       ^
../ext/bson.cc:590:54: error: ‘NanPersistentToLocal’ was not declared in this scope
   return NanPersistentToLocal(bson->minKeyConstructor)->NewInstance();
                                                      ^
../ext/bson.cc: In constructor ‘BSON::BSON()’:
../ext/bson.cc:607:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _bsontypeString, String::New("_bsontype"));
                                   ^
../ext/bson.cc:607:78: error: ‘NanAssignPersistent’ was not declared in this scope
         NanAssignPersistent(String, _bsontypeString, String::New("_bsontype"));
                                                                              ^
../ext/bson.cc:608:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _longLowString, String::New("low_"));
                                   ^
../ext/bson.cc:609:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _longHighString, String::New("high_"));
                                   ^
../ext/bson.cc:610:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _objectIDidString, String::New("id"));
                                   ^
../ext/bson.cc:611:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _binaryPositionString, String::New("position"));
                                   ^
../ext/bson.cc:612:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _binarySubTypeString, String::New("sub_type"));
                                   ^
../ext/bson.cc:613:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _binaryBufferString, String::New("buffer"));
                                   ^
../ext/bson.cc:614:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _doubleValueString, String::New("value"));
                                   ^
../ext/bson.cc:615:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _symbolValueString, String::New("value"));
                                   ^
../ext/bson.cc:616:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _dbRefRefString, String::New("$ref"));
                                   ^
../ext/bson.cc:617:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _dbRefIdRefString, String::New("$id"));
                                   ^
../ext/bson.cc:618:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _dbRefDbRefString, String::New("$db"));
                                   ^
../ext/bson.cc:619:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _dbRefNamespaceString, String::New("namespace"));
                                   ^
../ext/bson.cc:620:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _dbRefDbString, String::New("db"));
                                   ^
../ext/bson.cc:621:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _dbRefOidString, String::New("oid"));
                                   ^
../ext/bson.cc:622:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _codeCodeString, String::New("code"));
                                   ^
../ext/bson.cc:623:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _codeScopeString, String::New("scope"));
                                   ^
../ext/bson.cc:624:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, _toBSONString, String::New("toBSON"));
                                   ^
../ext/bson.cc:626:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, longString, String::New("Long"));
                                   ^
../ext/bson.cc:627:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, objectIDString, String::New("ObjectID"));
                                   ^
../ext/bson.cc:628:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, binaryString, String::New("Binary"));
                                   ^
../ext/bson.cc:629:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, codeString, String::New("Code"));
                                   ^
../ext/bson.cc:630:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, dbrefString, String::New("DBRef"));
                                   ^
../ext/bson.cc:631:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, symbolString, String::New("Symbol"));
                                   ^
../ext/bson.cc:632:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, doubleString, String::New("Double"));
                                   ^
../ext/bson.cc:633:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, timestampString, String::New("Timestamp"));
                                   ^
../ext/bson.cc:634:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, minKeyString, String::New("MinKey"));
                                   ^
../ext/bson.cc:635:35: error: expected primary-expression before ‘,’ token
         NanAssignPersistent(String, maxKeyString, String::New("MaxKey"));
                                   ^
../ext/bson.cc: In static member function ‘static void BSON::Initialize(v8::Handle<v8::Object>)’:
../ext/bson.cc:641:11: error: ‘NanScope’ was not declared in this scope
  NanScope();
           ^
../ext/bson.cc:643:55: error: invalid conversion from ‘Nan::NAN_METHOD_RETURN_TYPE (*)(Nan::NAN_METHOD_ARGS_TYPE) {aka void (*)(const Nan::FunctionCallbackInfo<v8::Value>&)}’ to ‘v8::InvocationCallback {aka v8::Handle<v8::Value> (*)(const v8::Arguments&)}’ [-fpermissive]
  Local<FunctionTemplate> t = FunctionTemplate::New(New);
                                                       ^
In file included from ../ext/bson.cc:14:0:
/usr/include/v8.h:2255:34: note:   initializing argument 1 of ‘static v8::Local<v8::FunctionTemplate> v8::FunctionTemplate::New(v8::InvocationCallback, v8::Handle<v8::Value>, v8::Handle<v8::Signature>)’
   static Local<FunctionTemplate> New(
                                  ^
../ext/bson.cc:648:73: error: no matching function for call to ‘SetPrototypeMethod(v8::Local<v8::FunctionTemplate>&, const char [20], Nan::NAN_METHOD_RETURN_TYPE (&)(Nan::NAN_METHOD_ARGS_TYPE))’
  NODE_SET_PROTOTYPE_METHOD(t, "calculateObjectSize", CalculateObjectSize);
                                                                         ^
In file included from ../ext/bson.cc:22:0:
/usr/include/node/node.h:120:6: note: candidate: template<class target_t> void node::SetPrototypeMethod(target_t, const char*, v8::InvocationCallback)
 void SetPrototypeMethod(target_t target,
      ^
/usr/include/node/node.h:120:6: note:   template argument deduction/substitution failed:
../ext/bson.cc:648:73: note:   cannot convert ‘BSON::CalculateObjectSize’ (type ‘Nan::NAN_METHOD_RETURN_TYPE(Nan::NAN_METHOD_ARGS_TYPE) {aka void(const Nan::FunctionCallbackInfo<v8::Value>&)}’) to type ‘v8::InvocationCallback {aka v8::Handle<v8::Value> (*)(const v8::Arguments&)}’
  NODE_SET_PROTOTYPE_METHOD(t, "calculateObjectSize", CalculateObjectSize);
                                                                         ^
../ext/bson.cc:649:57: error: no matching function for call to ‘SetPrototypeMethod(v8::Local<v8::FunctionTemplate>&, const char [10], Nan::NAN_METHOD_RETURN_TYPE (&)(Nan::NAN_METHOD_ARGS_TYPE))’
  NODE_SET_PROTOTYPE_METHOD(t, "serialize", BSONSerialize);
                                                         ^
In file included from ../ext/bson.cc:22:0:
/usr/include/node/node.h:120:6: note: candidate: template<class target_t> void node::SetPrototypeMethod(target_t, const char*, v8::InvocationCallback)
 void SetPrototypeMethod(target_t target,
      ^
/usr/include/node/node.h:120:6: note:   template argument deduction/substitution failed:
../ext/bson.cc:649:57: note:   cannot convert ‘BSON::BSONSerialize’ (type ‘Nan::NAN_METHOD_RETURN_TYPE(Nan::NAN_METHOD_ARGS_TYPE) {aka void(const Nan::FunctionCallbackInfo<v8::Value>&)}’) to type ‘v8::InvocationCallback {aka v8::Handle<v8::Value> (*)(const v8::Arguments&)}’
  NODE_SET_PROTOTYPE_METHOD(t, "serialize", BSONSerialize);
                                                         ^
../ext/bson.cc:650:89: error: no matching function for call to ‘SetPrototypeMethod(v8::Local<v8::FunctionTemplate>&, const char [28], Nan::NAN_METHOD_RETURN_TYPE (&)(Nan::NAN_METHOD_ARGS_TYPE))’
  NODE_SET_PROTOTYPE_METHOD(t, "serializeWithBufferAndIndex", SerializeWithBufferAndIndex);
                                                                                         ^
In file included from ../ext/bson.cc:22:0:
/usr/include/node/node.h:120:6: note: candidate: template<class target_t> void node::SetPrototypeMethod(target_t, const char*, v8::InvocationCallback)
 void SetPrototypeMethod(target_t target,
      ^
/usr/include/node/node.h:120:6: note:   template argument deduction/substitution failed:
../ext/bson.cc:650:89: note:   cannot convert ‘BSON::SerializeWithBufferAndIndex’ (type ‘Nan::NAN_METHOD_RETURN_TYPE(Nan::NAN_METHOD_ARGS_TYPE) {aka void(const Nan::FunctionCallbackInfo<v8::Value>&)}’) to type ‘v8::InvocationCallback {aka v8::Handle<v8::Value> (*)(const v8::Arguments&)}’
  NODE_SET_PROTOTYPE_METHOD(t, "serializeWithBufferAndIndex", SerializeWithBufferAndIndex);
                                                                                         ^
../ext/bson.cc:651:61: error: no matching function for call to ‘SetPrototypeMethod(v8::Local<v8::FunctionTemplate>&, const char [12], Nan::NAN_METHOD_RETURN_TYPE (&)(Nan::NAN_METHOD_ARGS_TYPE))’
  NODE_SET_PROTOTYPE_METHOD(t, "deserialize", BSONDeserialize);
                                                             ^
In file included from ../ext/bson.cc:22:0:
/usr/include/node/node.h:120:6: note: candidate: template<class target_t> void node::SetPrototypeMethod(target_t, const char*, v8::InvocationCallback)
 void SetPrototypeMethod(target_t target,
      ^
/usr/include/node/node.h:120:6: note:   template argument deduction/substitution failed:
../ext/bson.cc:651:61: note:   cannot convert ‘BSON::BSONDeserialize’ (type ‘Nan::NAN_METHOD_RETURN_TYPE(Nan::NAN_METHOD_ARGS_TYPE) {aka void(const Nan::FunctionCallbackInfo<v8::Value>&)}’) to type ‘v8::InvocationCallback {aka v8::Handle<v8::Value> (*)(const v8::Arguments&)}’
  NODE_SET_PROTOTYPE_METHOD(t, "deserialize", BSONDeserialize);
                                                             ^
../ext/bson.cc:652:73: error: no matching function for call to ‘SetPrototypeMethod(v8::Local<v8::FunctionTemplate>&, const char [18], Nan::NAN_METHOD_RETURN_TYPE (&)(Nan::NAN_METHOD_ARGS_TYPE))’
  NODE_SET_PROTOTYPE_METHOD(t, "deserializeStream", BSONDeserializeStream);
                                                                         ^
In file included from ../ext/bson.cc:22:0:
/usr/include/node/node.h:120:6: note: candidate: template<class target_t> void node::SetPrototypeMethod(target_t, const char*, v8::InvocationCallback)
 void SetPrototypeMethod(target_t target,
      ^
/usr/include/node/node.h:120:6: note:   template argument deduction/substitution failed:
../ext/bson.cc:652:73: note:   cannot convert ‘BSON::BSONDeserializeStream’ (type ‘Nan::NAN_METHOD_RETURN_TYPE(Nan::NAN_METHOD_ARGS_TYPE) {aka void(const Nan::FunctionCallbackInfo<v8::Value>&)}’) to type ‘v8::InvocationCallback {aka v8::Handle<v8::Value> (*)(const v8::Arguments&)}’
  NODE_SET_PROTOTYPE_METHOD(t, "deserializeStream", BSONDeserializeStream);
                                                                         ^
../ext/bson.cc:654:38: error: expected primary-expression before ‘,’ token
  NanAssignPersistent(FunctionTemplate, constructor_template, t);
                                      ^
../ext/bson.cc:654:63: error: ‘NanAssignPersistent’ was not declared in this scope
  NanAssignPersistent(FunctionTemplate, constructor_template, t);
                                                               ^
../ext/bson.cc: In static member function ‘static Nan::NAN_METHOD_RETURN_TYPE BSON::New(Nan::NAN_METHOD_ARGS_TYPE)’:
../ext/bson.cc:662:11: error: ‘NanScope’ was not declared in this scope
  NanScope();
           ^
../ext/bson.cc:665:5: error: ‘args’ was not declared in this scope
  if(args.Length() == 1 && args[0]->IsArray())
     ^
../ext/bson.cc:684:72: error: ‘NanPersistentToLocal’ was not declared in this scope
     if(functionName->StrictEquals(NanPersistentToLocal(bson->longString))) {
                                                                        ^
../ext/bson.cc:685:34: error: expected primary-expression before ‘,’ token
      NanAssignPersistent(Function, bson->longConstructor, func);
                                  ^
../ext/bson.cc:685:63: error: ‘NanAssignPersistent’ was not declared in this scope
      NanAssignPersistent(Function, bson->longConstructor, func);
                                                               ^
../ext/bson.cc:688:34: error: expected primary-expression before ‘,’ token
      NanAssignPersistent(Function, bson->objectIDConstructor, func);
                                  ^
../ext/bson.cc:688:67: error: ‘NanAssignPersistent’ was not declared in this scope
      NanAssignPersistent(Function, bson->objectIDConstructor, func);
                                                                   ^
../ext/bson.cc:691:34: error: expected primary-expression before ‘,’ token
      NanAssignPersistent(Function, bson->binaryConstructor, func);
                                  ^
../ext/bson.cc:691:65: error: ‘NanAssignPersistent’ was not declared in this scope
      NanAssignPersistent(Function, bson->binaryConstructor, func);
                                                                 ^
../ext/bson.cc:694:34: error: expected primary-expression before ‘,’ token
      NanAssignPersistent(Function, bson->codeConstructor, func);
                                  ^
../ext/bson.cc:694:63: error: ‘NanAssignPersistent’ was not declared in this scope
      NanAssignPersistent(Function, bson->codeConstructor, func);
                                                               ^
../ext/bson.cc:697:34: error: expected primary-expression before ‘,’ token
      NanAssignPersistent(Function, bson->dbrefConstructor, func);
                                  ^
../ext/bson.cc:697:64: error: ‘NanAssignPersistent’ was not declared in this scope
      NanAssignPersistent(Function, bson->dbrefConstructor, func);
                                                                ^
../ext/bson.cc:700:34: error: expected primary-expression before ‘,’ token
      NanAssignPersistent(Function, bson->symbolConstructor, func);
                                  ^
../ext/bson.cc:700:65: error: ‘NanAssignPersistent’ was not declared in this scope
      NanAssignPersistent(Function, bson->symbolConstructor, func);
                                                                 ^
../ext/bson.cc:703:34: error: expected primary-expression before ‘,’ token
      NanAssignPersistent(Function, bson->doubleConstructor, func);
                                  ^
../ext/bson.cc:703:65: error: ‘NanAssignPersistent’ was not declared in this scope
      NanAssignPersistent(Function, bson->doubleConstructor, func);
                                                                 ^
../ext/bson.cc:706:34: error: expected primary-expression before ‘,’ token
      NanAssignPersistent(Function, bson->timestampConstructor, func);
                                  ^
../ext/bson.cc:706:68: error: ‘NanAssignPersistent’ was not declared in this scope
      NanAssignPersistent(Function, bson->timestampConstructor, func);
                                                                    ^
../ext/bson.cc:709:34: error: expected primary-expression before ‘,’ token
      NanAssignPersistent(Function, bson->minKeyConstructor, func);
                                  ^
../ext/bson.cc:709:65: error: ‘NanAssignPersistent’ was not declared in this scope
      NanAssignPersistent(Function, bson->minKeyConstructor, func);
                                                                 ^
../ext/bson.cc:712:34: error: expected primary-expression before ‘,’ token
      NanAssignPersistent(Function, bson->maxKeyConstructor, func);
                                  ^
../ext/bson.cc:712:65: error: ‘NanAssignPersistent’ was not declared in this scope
      NanAssignPersistent(Function, bson->maxKeyConstructor, func);
                                                                 ^
../ext/bson.cc:720:139: error: ‘NanThrowError’ was not declared in this scope
     return NanThrowError("Missing function constructor for either [Long/ObjectID/Binary/Code/DbRef/Symbol/Double/Timestamp/MinKey/MaxKey]");
                                                                                                                                           ^
../ext/bson.cc:720:139: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:723:31: error: ‘NanReturnValue’ was not declared in this scope
     NanReturnValue(args.This());
                               ^
../ext/bson.cc:728:45: error: ‘NanThrowError’ was not declared in this scope
    return NanThrowError("No types passed in");
                                             ^
../ext/bson.cc:728:45: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:733:74: error: ‘NanThrowTypeError’ was not declared in this scope
   return NanThrowTypeError("Argument passed in must be an array of types");
                                                                          ^
../ext/bson.cc:733:74: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc: In static member function ‘static Nan::NAN_METHOD_RETURN_TYPE BSON::BSONDeserialize(Nan::NAN_METHOD_ARGS_TYPE)’:
../ext/bson.cc:744:11: error: ‘NanScope’ was not declared in this scope
  NanScope();
           ^
../ext/bson.cc:747:5: error: ‘args’ was not declared in this scope
  if(args.Length() > 1 && !args[0]->IsString() && !Buffer::HasInstance(args[0]))
     ^
../ext/bson.cc:748:68: error: ‘NanThrowError’ was not declared in this scope
   return NanThrowError("First Argument must be a Buffer or String.");
                                                                    ^
../ext/bson.cc:748:68: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:754:5: error: ‘args’ was not declared in this scope
  if(args.Length() == 2 && args[1]->IsObject()) {
     ^
../ext/bson.cc:763:22: error: ‘args’ was not declared in this scope
  Local<Object> obj = args[0]->ToObject();
                      ^
../ext/bson.cc:781:76: error: ‘NanThrowError’ was not declared in this scope
   if(length < 5) return NanThrowError("corrupt bson message < 5 bytes long");
                                                                            ^
../ext/bson.cc:781:76: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:787:65: error: ‘NanReturnValue’ was not declared in this scope
    NanReturnValue(deserializer.DeserializeDocument(promoteLongs));
                                                                 ^
../ext/bson.cc:793:30: error: ‘NanThrowError’ was not declared in this scope
    return NanThrowError(error);
                              ^
../ext/bson.cc:793:30: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:803:73: error: ‘NanThrowError’ was not declared in this scope
   if(len < 5) return NanThrowError("corrupt bson message < 5 bytes long");
                                                                         ^
../ext/bson.cc:803:73: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:815:25: error: ‘NanReturnValue’ was not declared in this scope
    NanReturnValue(result);
                         ^
../ext/bson.cc:823:30: error: ‘NanThrowError’ was not declared in this scope
    return NanThrowError(error);
                              ^
../ext/bson.cc:823:30: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc: In member function ‘v8::Local<v8::Object> BSON::GetSerializeObject(const v8::Handle<v8::Value>&)’:
../ext/bson.cc:831:51: error: ‘NanPersistentToLocal’ was not declared in this scope
  if(object->Has(NanPersistentToLocal(_toBSONString)))
                                                   ^
../ext/bson.cc: In static member function ‘static Nan::NAN_METHOD_RETURN_TYPE BSON::BSONSerialize(Nan::NAN_METHOD_ARGS_TYPE)’:
../ext/bson.cc:848:11: error: ‘NanScope’ was not declared in this scope
  NanScope();
           ^
../ext/bson.cc:850:5: error: ‘args’ was not declared in this scope
  if(args.Length() == 1 && !args[0]->IsObject()) return NanThrowError("One, two or tree arguments required - [object] or [object, boolean] or [object, boolean, boolean]");
     ^
../ext/bson.cc:850:169: error: ‘NanThrowError’ was not declared in this scope
  if(args.Length() == 1 && !args[0]->IsObject()) return NanThrowError("One, two or tree arguments required - [object] or [object, boolean] or [object, boolean, boolean]");
                                                                                                                                                                         ^
../ext/bson.cc:850:169: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:851:5: error: ‘args’ was not declared in this scope
  if(args.Length() == 2 && !args[0]->IsObject() && !args[1]->IsBoolean()) return NanThrowError("One, two or tree arguments required - [object] or [object, boolean] or [object, boolean, boolean]");
     ^
../ext/bson.cc:851:194: error: ‘NanThrowError’ was not declared in this scope
  if(args.Length() == 2 && !args[0]->IsObject() && !args[1]->IsBoolean()) return NanThrowError("One, two or tree arguments required - [object] or [object, boolean] or [object, boolean, boolean]");
                                                                                                                                                                                                  ^
../ext/bson.cc:851:194: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:852:5: error: ‘args’ was not declared in this scope
  if(args.Length() == 3 && !args[0]->IsObject() && !args[1]->IsBoolean() && !args[2]->IsBoolean()) return NanThrowError("One, two or tree arguments required - [object] or [object, boolean] or [object, boolean, boolean]");
     ^
../ext/bson.cc:852:219: error: ‘NanThrowError’ was not declared in this scope
  if(args.Length() == 3 && !args[0]->IsObject() && !args[1]->IsBoolean() && !args[2]->IsBoolean()) return NanThrowError("One, two or tree arguments required - [object] or [object, boolean] or [object, boolean, boolean]");
                                                                                                                                                                                                                           ^
../ext/bson.cc:852:219: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:853:5: error: ‘args’ was not declared in this scope
  if(args.Length() == 4 && !args[0]->IsObject() && !args[1]->IsBoolean() && !args[2]->IsBoolean() && !args[3]->IsBoolean()) return NanThrowError("One, two or tree arguments required - [object] or [object, boolean] or [object, boolean, boolean] or [object, boolean, boolean, boolean]");
     ^
../ext/bson.cc:853:283: error: ‘NanThrowError’ was not declared in this scope
  if(args.Length() == 4 && !args[0]->IsObject() && !args[1]->IsBoolean() && !args[2]->IsBoolean() && !args[3]->IsBoolean()) return NanThrowError("One, two or tree arguments required - [object] or [object, boolean] or [object, boolean, boolean] or [object, boolean, boolean, boolean]");
                                                                                                                                                                                                                                                                                           ^
../ext/bson.cc:853:283: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:854:5: error: ‘args’ was not declared in this scope
  if(args.Length() > 4) return NanThrowError("One, two, tree or four arguments required - [object] or [object, boolean] or [object, boolean, boolean] or [object, boolean, boolean, boolean]");
     ^
../ext/bson.cc:854:189: error: ‘NanThrowError’ was not declared in this scope
  if(args.Length() > 4) return NanThrowError("One, two, tree or four arguments required - [object] or [object, boolean] or [object, boolean, boolean] or [object, boolean, boolean, boolean]");
                                                                                                                                                                                             ^
../ext/bson.cc:854:189: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:857:5: error: ‘args’ was not declared in this scope
  if(args[0]->IsArray()) return NanThrowError("Only javascript objects supported");
     ^
../ext/bson.cc:857:81: error: ‘NanThrowError’ was not declared in this scope
  if(args[0]->IsArray()) return NanThrowError("Only javascript objects supported");
                                                                                 ^
../ext/bson.cc:857:81: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:860:40: error: ‘args’ was not declared in this scope
  BSON *bson = ObjectWrap::Unwrap<BSON>(args.This());
                                        ^
../ext/bson.cc:889:29: error: ‘NanThrowError’ was not declared in this scope
   return NanThrowError(error);
                             ^
../ext/bson.cc:889:29: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:895:75: error: ‘NanNewBufferHandle’ was not declared in this scope
   Local<Object> buffer = NanNewBufferHandle(serialized_object, object_size);
                                                                           ^
../ext/bson.cc:897:24: error: ‘NanReturnValue’ was not declared in this scope
   NanReturnValue(buffer);
                        ^
../ext/bson.cc:903:27: error: ‘NanReturnValue’ was not declared in this scope
   NanReturnValue(bin_value);
                           ^
../ext/bson.cc: In static member function ‘static Nan::NAN_METHOD_RETURN_TYPE BSON::CalculateObjectSize(Nan::NAN_METHOD_ARGS_TYPE)’:
../ext/bson.cc:909:11: error: ‘NanScope’ was not declared in this scope
  NanScope();
           ^
../ext/bson.cc:911:5: error: ‘args’ was not declared in this scope
  if(args.Length() == 1 && !args[0]->IsObject()) return NanThrowError("One argument required - [object]");
     ^
../ext/bson.cc:911:104: error: ‘NanThrowError’ was not declared in this scope
  if(args.Length() == 1 && !args[0]->IsObject()) return NanThrowError("One argument required - [object]");
                                                                                                        ^
../ext/bson.cc:911:104: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:912:5: error: ‘args’ was not declared in this scope
  if(args.Length() == 2 && !args[0]->IsObject() && !args[1]->IsBoolean())  return NanThrowError("Two arguments required - [object, boolean]");
     ^
../ext/bson.cc:912:140: error: ‘NanThrowError’ was not declared in this scope
  if(args.Length() == 2 && !args[0]->IsObject() && !args[1]->IsBoolean())  return NanThrowError("Two arguments required - [object, boolean]");
                                                                                                                                            ^
../ext/bson.cc:912:140: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:913:5: error: ‘args’ was not declared in this scope
  if(args.Length() > 3) return NanThrowError("One or two arguments required - [object] or [object, boolean]");
     ^
../ext/bson.cc:913:108: error: ‘NanThrowError’ was not declared in this scope
  if(args.Length() > 3) return NanThrowError("One or two arguments required - [object] or [object, boolean]");
                                                                                                            ^
../ext/bson.cc:913:108: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:916:40: error: ‘args’ was not declared in this scope
  BSON *bson = ObjectWrap::Unwrap<BSON>(args.This());
                                        ^
../ext/bson.cc:922:75: error: ‘NanReturnValue’ was not declared in this scope
  NanReturnValue(Uint32::New((uint32_t) countSerializer.GetSerializeSize()));
                                                                           ^
../ext/bson.cc: In static member function ‘static Nan::NAN_METHOD_RETURN_TYPE BSON::SerializeWithBufferAndIndex(Nan::NAN_METHOD_ARGS_TYPE)’:
../ext/bson.cc:927:11: error: ‘NanScope’ was not declared in this scope
  NanScope();
           ^
../ext/bson.cc:931:5: error: ‘args’ was not declared in this scope
  if(args.Length() > 5) return NanThrowError("Four or five parameters required [object, boolean, Buffer, int] or [object, boolean, Buffer, int, boolean]");
     ^
../ext/bson.cc:931:153: error: ‘NanThrowError’ was not declared in this scope
  if(args.Length() > 5) return NanThrowError("Four or five parameters required [object, boolean, Buffer, int] or [object, boolean, Buffer, int, boolean]");
                                                                                                                                                         ^
../ext/bson.cc:931:153: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:932:5: error: ‘args’ was not declared in this scope
  if(args.Length() == 4 && !args[0]->IsObject() && !args[1]->IsBoolean() && !Buffer::HasInstance(args[2]) && !args[3]->IsUint32()) return NanThrowError("Four parameters required [object, boolean, Buffer, int]");
     ^
../ext/bson.cc:932:209: error: ‘NanThrowError’ was not declared in this scope
  if(args.Length() == 4 && !args[0]->IsObject() && !args[1]->IsBoolean() && !Buffer::HasInstance(args[2]) && !args[3]->IsUint32()) return NanThrowError("Four parameters required [object, boolean, Buffer, int]");
                                                                                                                                                                                                                 ^
../ext/bson.cc:932:209: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:933:5: error: ‘args’ was not declared in this scope
  if(args.Length() == 5 && !args[0]->IsObject() && !args[1]->IsBoolean() && !Buffer::HasInstance(args[2]) && !args[3]->IsUint32() && !args[4]->IsBoolean()) return NanThrowError("Four parameters required [object, boolean, Buffer, int, boolean]");
     ^
../ext/bson.cc:933:243: error: ‘NanThrowError’ was not declared in this scope
  if(args.Length() == 5 && !args[0]->IsObject() && !args[1]->IsBoolean() && !Buffer::HasInstance(args[2]) && !args[3]->IsUint32() && !args[4]->IsBoolean()) return NanThrowError("Four parameters required [object, boolean, Buffer, int, boolean]");
                                                                                                                                                                                                                                                   ^
../ext/bson.cc:933:243: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:940:41: error: ‘args’ was not declared in this scope
   BSON *bson = ObjectWrap::Unwrap<BSON>(args.This());
                                         ^
../ext/bson.cc:954:94: error: ‘NanThrowError’ was not declared in this scope
   if(object_size + index > length) return NanThrowError("Serious error - overflowed buffer!!");
                                                                                              ^
../ext/bson.cc:954:94: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:960:43: error: ‘NanThrowError’ was not declared in this scope
                 return NanThrowError(error);
                                           ^
../ext/bson.cc:960:43: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:963:66: error: ‘NanReturnValue’ was not declared in this scope
  NanReturnValue(Uint32::New((uint32_t) (index + object_size - 1)));
                                                                  ^
../ext/bson.cc: In static member function ‘static Nan::NAN_METHOD_RETURN_TYPE BSON::BSONDeserializeStream(Nan::NAN_METHOD_ARGS_TYPE)’:
../ext/bson.cc:968:11: error: ‘NanScope’ was not declared in this scope
  NanScope();
           ^
../ext/bson.cc:971:5: error: ‘args’ was not declared in this scope
  if(args.Length() < 5) return NanThrowError("Arguments required (Buffer(data), Number(index in data), Number(number of documents to deserialize), Array(results), Number(index in the array), Object(optional))");
     ^
../ext/bson.cc:971:209: error: ‘NanThrowError’ was not declared in this scope
  if(args.Length() < 5) return NanThrowError("Arguments required (Buffer(data), Number(index in data), Number(number of documents to deserialize), Array(results), Number(index in the array), Object(optional))");
                                                                                                                                                                                                                 ^
../ext/bson.cc:971:209: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:974:5: error: ‘args’ was not declared in this scope
  if(args.Length() >= 5)
     ^
../ext/bson.cc:976:98: error: ‘NanThrowError’ was not declared in this scope
   if(!Buffer::HasInstance(args[0])) return NanThrowError("First argument must be Buffer instance");
                                                                                                  ^
../ext/bson.cc:976:98: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:977:98: error: ‘NanThrowError’ was not declared in this scope
   if(!args[1]->IsUint32()) return NanThrowError("Second argument must be a positive index number");
                                                                                                  ^
../ext/bson.cc:977:98: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:978:119: error: ‘NanThrowError’ was not declared in this scope
   if(!args[2]->IsUint32()) return NanThrowError("Third argument must be a positive number of documents to deserialize");
                                                                                                                       ^
../ext/bson.cc:978:119: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:979:119: error: ‘NanThrowError’ was not declared in this scope
   if(!args[3]->IsArray()) return NanThrowError("Fourth argument must be an array the size of documents to deserialize");
                                                                                                                       ^
../ext/bson.cc:979:119: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:980:97: error: ‘NanThrowError’ was not declared in this scope
   if(!args[4]->IsUint32()) return NanThrowError("Sixth argument must be a positive index number");
                                                                                                 ^
../ext/bson.cc:980:97: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:984:5: error: ‘args’ was not declared in this scope
  if(args.Length() == 6 && !args[5]->IsObject()) return NanThrowError("Fifth argument must be an object with options");
     ^
../ext/bson.cc:984:117: error: ‘NanThrowError’ was not declared in this scope
  if(args.Length() == 6 && !args[5]->IsObject()) return NanThrowError("Fifth argument must be an object with options");
                                                                                                                     ^
../ext/bson.cc:984:117: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:987:22: error: ‘args’ was not declared in this scope
  Local<Object> obj = args[0]->ToObject();
                      ^
../ext/bson.cc:1030:30: error: ‘NanThrowError’ was not declared in this scope
    return NanThrowError(error);
                              ^
../ext/bson.cc:1030:30: error: return-statement with a value, in function returning 'void' [-fpermissive]
../ext/bson.cc:1035:82: error: ‘NanReturnValue’ was not declared in this scope
  NanReturnValue(Uint32::New((uint32_t) (index + deserializer.GetSerializeSize())));
                                                                                  ^
../ext/bson.cc: In function ‘void init(v8::Handle<v8::Object>)’:
../ext/bson.cc:1041:11: error: ‘NanScope’ was not declared in this scope
  NanScope();
           ^
../ext/bson.cc: In instantiation of ‘void BSONSerializer<T>::SerializeValue(void*, const v8::Handle<v8::Value>&) [with T = CountStream]’:
../ext/bson.cc:116:18:   required from ‘void BSONSerializer<T>::SerializeDocument(const v8::Handle<v8::Value>&) [with T = CountStream]’
../ext/bson.cc:873:35:   required from here
../ext/bson.cc:203:38: error: ‘NanPersistentToLocal’ was not declared in this scope
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:206:27: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    if(NanPersistentToLocal(bson->longString)->StrictEquals(constructorString))
                           ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:209:50: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longLowString));
                                                  ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:210:50: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longHighString));
                                                  ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:212:32: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->timestampString)->StrictEquals(constructorString))
                                ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:215:50: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longLowString));
                                                  ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:216:50: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longHighString));
                                                  ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:218:32: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->objectIDString)->StrictEquals(constructorString))
                                ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:221:53: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteObjectId(object, NanPersistentToLocal(bson->_objectIDidString));
                                                     ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:223:32: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->binaryString)->StrictEquals(constructorString))
                                ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:227:55: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     uint32_t length = object->Get(NanPersistentToLocal(bson->_binaryPositionString))->Uint32Value();
                                                       ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:228:63: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     Local<Object> bufferObj = object->Get(NanPersistentToLocal(bson->_binaryBufferString))->ToObject();
                                                               ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:231:49: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteByte(object, NanPersistentToLocal(bson->_binarySubTypeString)); // write subtype
                                                 ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:233:40: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     if(object->Get(NanPersistentToLocal(bson->_binarySubTypeString))->Int32Value() == 0x02) {
                                        ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:239:32: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->doubleString)->StrictEquals(constructorString))
                                ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:242:51: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteDouble(object, NanPersistentToLocal(bson->_doubleValueString));
                                                   ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:244:32: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->symbolString)->StrictEquals(constructorString))
                                ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:247:69: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteLengthPrefixedString(object->Get(NanPersistentToLocal(bson->_symbolValueString))->ToString());
                                                                     ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:249:32: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->codeString)->StrictEquals(constructorString))
                                ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:251:69: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     const Local<String>& function = object->Get(NanPersistentToLocal(bson->_codeCodeString))->ToString();
                                                                     ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:252:66: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     const Local<Object>& scope = object->Get(NanPersistentToLocal(bson->_codeScopeString))->ToObject();
                                                                  ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:275:32: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->dbrefString)->StrictEquals(constructorString))
                                ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:283:61: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     SerializeValue(refType, object->Get(NanPersistentToLocal(bson->_dbRefNamespaceString)));
                                                             ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:287:60: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     SerializeValue(idType, object->Get(NanPersistentToLocal(bson->_dbRefOidString)));
                                                            ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:289:70: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     const Local<Value>& refDbValue = object->Get(NanPersistentToLocal(bson->_dbRefDbString));
                                                                      ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:300:32: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->minKeyString)->StrictEquals(constructorString))
                                ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:304:32: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->maxKeyString)->StrictEquals(constructorString))
                                ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc: In instantiation of ‘void BSONSerializer<T>::SerializeValue(void*, const v8::Handle<v8::Value>&) [with T = DataStream]’:
../ext/bson.cc:116:18:   required from ‘void BSONSerializer<T>::SerializeDocument(const v8::Handle<v8::Value>&) [with T = DataStream]’
../ext/bson.cc:882:32:   required from here
../ext/bson.cc:203:38: error: ‘NanPersistentToLocal’ was not declared in this scope
../ext/bson.cc:206:27: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    if(NanPersistentToLocal(bson->longString)->StrictEquals(constructorString))
                           ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:209:50: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longLowString));
                                                  ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:210:50: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longHighString));
                                                  ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:212:32: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->timestampString)->StrictEquals(constructorString))
                                ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:215:50: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longLowString));
                                                  ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:216:50: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteInt32(object, NanPersistentToLocal(bson->_longHighString));
                                                  ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:218:32: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->objectIDString)->StrictEquals(constructorString))
                                ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:221:53: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteObjectId(object, NanPersistentToLocal(bson->_objectIDidString));
                                                     ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:223:32: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->binaryString)->StrictEquals(constructorString))
                                ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:227:55: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     uint32_t length = object->Get(NanPersistentToLocal(bson->_binaryPositionString))->Uint32Value();
                                                       ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:228:63: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     Local<Object> bufferObj = object->Get(NanPersistentToLocal(bson->_binaryBufferString))->ToObject();
                                                               ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:231:49: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteByte(object, NanPersistentToLocal(bson->_binarySubTypeString)); // write subtype
                                                 ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:233:40: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     if(object->Get(NanPersistentToLocal(bson->_binarySubTypeString))->Int32Value() == 0x02) {
                                        ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:239:32: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->doubleString)->StrictEquals(constructorString))
                                ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:242:51: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteDouble(object, NanPersistentToLocal(bson->_doubleValueString));
                                                   ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:244:32: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->symbolString)->StrictEquals(constructorString))
                                ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:247:69: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     this->WriteLengthPrefixedString(object->Get(NanPersistentToLocal(bson->_symbolValueString))->ToString());
                                                                     ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:249:32: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->codeString)->StrictEquals(constructorString))
                                ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:251:69: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     const Local<String>& function = object->Get(NanPersistentToLocal(bson->_codeCodeString))->ToString();
                                                                     ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:252:66: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     const Local<Object>& scope = object->Get(NanPersistentToLocal(bson->_codeScopeString))->ToObject();
                                                                  ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:275:32: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->dbrefString)->StrictEquals(constructorString))
                                ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:283:61: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     SerializeValue(refType, object->Get(NanPersistentToLocal(bson->_dbRefNamespaceString)));
                                                             ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:287:60: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     SerializeValue(idType, object->Get(NanPersistentToLocal(bson->_dbRefOidString)));
                                                            ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:289:70: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
     const Local<Value>& refDbValue = object->Get(NanPersistentToLocal(bson->_dbRefDbString));
                                                                      ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:300:32: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->minKeyString)->StrictEquals(constructorString))
                                ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc:304:32: error: ‘NanPersistentToLocal’ was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
    else if(NanPersistentToLocal(bson->maxKeyString)->StrictEquals(constructorString))
                                ^
../ext/bson.cc:203:38: note: ‘NanPersistentToLocal’ declared here, later in the translation unit
   if(object->Has(NanPersistentToLocal(bson->_bsontypeString)))
                                      ^
../ext/bson.cc: In member function ‘v8::Local<v8::Object> BSON::GetSerializeObject(const v8::Handle<v8::Value>&)’:
../ext/bson.cc:844:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
make: *** [Release/obj.target/bson/ext/bson.o] Error 1
gyp ERR! build error 
gyp ERR! stack Error: `make` failed with exit code: 2
gyp ERR! stack     at ChildProcess.onExit (/usr/lib/node_modules/node-gyp/lib/build.js:267:23)
gyp ERR! stack     at ChildProcess.emit (events.js:98:17)
gyp ERR! stack     at Process.ChildProcess._handle.onexit (child_process.js:820:12)
gyp ERR! System Linux 4.0.4-301.fc22.x86_64
gyp ERR! command "node" "/usr/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /home/jvs/Documents/CS201R/CS-201R/ClassActivities/express/comment/node_modules/bson
gyp ERR! node -v v0.10.36
gyp ERR! node-gyp -v v0.10.6
gyp ERR! not ok 
